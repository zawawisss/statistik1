"use strict";(()=>{var t={};t.id=742,t.ids=[742],t.modules={399:t=>{t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1314:(t,a,e)=>{e.r(a),e.d(a,{originalPathname:()=>m,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>p});var n={};e.r(n),e.d(n,{GET:()=>u});var r=e(9303),o=e(8716),i=e(670),c=e(7070),s=e(6039);async function u(t,{params:a}){try{let t=await (0,s.uH)(a.id);if(!t)return c.NextResponse.json({error:"Kecamatan tidak ditemukan"},{status:404});return c.NextResponse.json(t)}catch(t){return console.error("Error fetching kecamatan by ID:",t),c.NextResponse.json({error:"Failed to fetch kecamatan"},{status:500})}}let d=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/kecamatan/[id]/route",pathname:"/api/kecamatan/[id]",filename:"route",bundlePath:"app/api/kecamatan/[id]/route"},resolvedPagePath:"/Users/awi/statistik/app/api/kecamatan/[id]/route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:l,staticGenerationAsyncStorage:p,serverHooks:g}=d,m="/api/kecamatan/[id]/route";function f(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:p})}},6039:(t,a,e)=>{let n;e.d(a,{uH:()=>s,QY:()=>c,c3:()=>i,yr:()=>u,yB:()=>d});let r=require("mongodb"),o=process.env.MONGODB_URI;if(!o)throw Error("Please add your MongoDB URI to .env.local");async function i(){try{let t=await n,a=new Date().toISOString().split("T")[0],e=t.db("ipnu_ponorogo"),r=e.collection("database"),o=e.collection("database_komisariat"),i=e.collection("database_ranting"),c=e.collection("data_anggota"),s=await r.countDocuments(),u=await o.countDocuments(),d=await i.countDocuments(),l=await c.countDocuments(),p=await i.countDocuments({status_sp:"Aktif",tanggal_sp:{$gte:a}}),g=await o.countDocuments({status_sp:"Aktif",tanggal_sp:{$gte:a}});return{totalStats:{totalPAC:s,totalKomisariat:g,totalRanting:p,totalAnggota:l,totalDesa:d,totalSekolah:u}}}catch(t){return console.error("Error fetching data:",t),{totalStats:{}}}}async function c(){try{let t=(await n).db("ipnu_ponorogo").collection("database");return await t.find({},{projection:{_id:1,kecamatan:1}}).toArray()}catch(t){return console.error("Error fetching kecamatan:",t),[]}}async function s(t){try{let a=(await n).db("ipnu_ponorogo").collection("database");return await a.findOne({_id:new r.ObjectId(t)})}catch(t){return console.error("Error fetching kecamatan by ID:",t),null}}async function u(){try{let t=(await n).db("ipnu_ponorogo").collection("database");return await t.find().toArray()}catch(t){return console.error("Error fetching PAC IPNU data:",t),[]}}async function d(){try{let t=(await n).db("ippnu_ponorogo").collection("database");return await t.find().toArray()}catch(t){return console.error("Error fetching PAC IPPNU data:",t),[]}}n=new r.MongoClient(o,{}).connect()}};var a=require("../../../../webpack-runtime.js");a.C(t);var e=t=>a(a.s=t),n=a.X(0,[276,972],()=>e(1314));module.exports=n})();