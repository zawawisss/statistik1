"use strict";(()=>{var t={};t.id=697,t.ids=[697],t.modules={399:t=>{t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6285:(t,a,e)=>{e.r(a),e.d(a,{originalPathname:()=>m,patchFetch:()=>w,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>d});var n={};e.r(n),e.d(n,{GET:()=>u});var o=e(9303),r=e(8716),i=e(670),c=e(7070),s=e(6039);async function u(){let t=await (0,s.QY)();return c.NextResponse.json(t)}let l=new o.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/kecamatan/route",pathname:"/api/kecamatan",filename:"route",bundlePath:"app/api/kecamatan/route"},resolvedPagePath:"/Users/awi/statistik/app/api/kecamatan/route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:g}=l,m="/api/kecamatan/route";function w(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:d})}},6039:(t,a,e)=>{let n;e.d(a,{uH:()=>s,QY:()=>c,c3:()=>i,yr:()=>u,yB:()=>l});let o=require("mongodb"),r=process.env.MONGODB_URI;if(!r)throw Error("Please add your MongoDB URI to .env.local");async function i(){try{let t=await n,a=new Date().toISOString().split("T")[0],e=t.db("ipnu_ponorogo"),o=e.collection("database"),r=e.collection("database_komisariat"),i=e.collection("database_ranting"),c=e.collection("data_anggota"),s=await o.countDocuments(),u=await r.countDocuments(),l=await i.countDocuments(),p=await c.countDocuments(),d=await i.countDocuments({status_sp:"Aktif",tanggal_sp:{$gte:a}}),g=await r.countDocuments({status_sp:"Aktif",tanggal_sp:{$gte:a}});return{totalStats:{totalPAC:s,totalKomisariat:g,totalRanting:d,totalAnggota:p,totalDesa:l,totalSekolah:u}}}catch(t){return console.error("Error fetching data:",t),{totalStats:{}}}}async function c(){try{let t=(await n).db("ipnu_ponorogo").collection("database");return await t.find({},{projection:{_id:1,kecamatan:1}}).toArray()}catch(t){return console.error("Error fetching kecamatan:",t),[]}}async function s(t){try{let a=(await n).db("ipnu_ponorogo").collection("database");return await a.findOne({_id:new o.ObjectId(t)})}catch(t){return console.error("Error fetching kecamatan by ID:",t),null}}async function u(){try{let t=(await n).db("ipnu_ponorogo").collection("database");return await t.find().toArray()}catch(t){return console.error("Error fetching PAC IPNU data:",t),[]}}async function l(){try{let t=(await n).db("ippnu_ponorogo").collection("database");return await t.find().toArray()}catch(t){return console.error("Error fetching PAC IPPNU data:",t),[]}}n=new o.MongoClient(r,{}).connect()}};var a=require("../../../webpack-runtime.js");a.C(t);var e=t=>a(a.s=t),n=a.X(0,[276,972],()=>e(6285));module.exports=n})();